@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   CREATIVE PROFESSIONAL SYSTEM (JetBrains New UI Inspired)
   Identity: Vivid, Tactile, High-Contrast
   ========================================================================== */

:root {
  /* ==========================================================================
     PRECISION DENSITY DESIGN SYSTEM
     Personality: Cold precision, high density, flight console / trading terminal
     ========================================================================== */

  /* Backgrounds - Darker, more contrast, subtle layering */
  --bg-canvas: #0d0e12;
  --bg-primary: #14151a;
  --bg-secondary: #1c1d24;
  --bg-elevated: #24262e;
  --bg-overlay: rgba(13, 14, 18, 0.90);

  /* Brand Identity - Blueprint blue */
  --brand-primary: #3574f0;
  --brand-secondary: #58a6ff;
  --brand-gradient: linear-gradient(180deg, #3574f0 0%, #2c5fd9 100%);
  --brand-primary-depth: #2c5fd9;
  --brand-hover: #4582f5;

  /* Accent Colors */
  --accent-purple: #a371f7;
  --accent-teal: #3fb4c0;
  --accent-orange: #e57f49;

  /* Text Colors */
  --text-primary: #e6edf3;
  --text-secondary: #8b949e;
  --text-muted: #6e7681;
  --text-inverted: #ffffff;

  /* Borders - Whisper-quiet, rgba-based for subtlety */
  --border-subtle: rgba(255, 255, 255, 0.04);
  --border-default: rgba(255, 255, 255, 0.08);
  --border-emphasis: rgba(255, 255, 255, 0.12);
  --border-active: #3574f0;

  /* Status Colors - Terminal aesthetic */
  --status-success: #3fb950;
  --status-warning: #d29922;
  --status-danger: #f85149;
  --status-info: #58a6ff;

  /* Status Backgrounds */
  --bg-success: rgba(63, 185, 80, 0.15);
  --bg-warning: rgba(210, 153, 34, 0.15);
  --bg-danger: rgba(248, 81, 73, 0.15);
  --bg-info: rgba(88, 166, 255, 0.15);

  /* --- Typography --- */
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* --- Border Radius - Sharp precision (4px default) --- */
  --radius-sm: 2px;
  --radius-default: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;

  /* --- Animation - Faster for responsive feel --- */
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --duration-fast: 100ms;
  --duration-normal: 150ms;

  /* Interactive States */
  --bg-selected: rgba(53, 116, 240, 0.14);
  --bg-selected-muted: rgba(53, 116, 240, 0.08);
  --bg-hover: rgba(255, 255, 255, 0.06);
  --bg-disabled: rgba(255, 255, 255, 0.03);
  --border-selected: rgba(53, 116, 240, 0.55);
  --border-disabled: rgba(255, 255, 255, 0.06);
  --text-disabled: rgba(255, 255, 255, 0.25);
  --text-on-selected: #d7ebff;
  --text-link: var(--brand-secondary);

  /* Badge / Status Chrome */
  --badge-running-bg: #1f3f62;
  --badge-running-text: #a9d0ff;
  --badge-running-border: #33608f;
  --badge-queued-bg: #253242;
  --badge-queued-text: #b7c8da;
  --badge-queued-border: #3f556d;
  --badge-canceled-bg: #2a313c;
  --badge-canceled-text: #b3c0cf;
  --badge-canceled-border: #3c4a5a;
  --badge-error-bg: #5a2328;
  --badge-error-text: #ffb4bc;
  --badge-error-border: #8a3a44;
  --badge-passed-bg: #1f4f2a;
  --badge-passed-text: #9be9a8;
  --badge-passed-border: #2f6f3a;
  --badge-unstable-bg: #4a3b1c;
  --badge-unstable-text: #ffd391;
  --badge-unstable-border: #7a5d2a;
  --badge-neutral-bg: #28313d;
  --badge-neutral-text: #b3c0cf;
  --badge-neutral-border: #3c4a5a;

  /* Dot indicators (status) */
  --dot-passed: #3fb950;
  --dot-failed: #f85149;
  --dot-running: #58a6ff;
  --dot-pending: #d29922;
  --dot-muted: #8b949e;

  /* Error / Danger surface */
  --bg-danger-surface: #2b1c22;
  --border-danger-emphasis: #6f3a45;
  --text-danger-bright: #ffcad1;
  --text-danger-label: #f2b3bc;

  /* Info surface */
  --bg-info-surface: #1f334a;
  --border-info-emphasis: #365272;
  --text-info-bright: #b8d9ff;

  /* Accent purple surface */
  --accent-purple-bg: #3d3264;
  --accent-purple-bg-hover: #4a3a7a;
  --accent-purple-border: #4c3f7a;
  --accent-purple-text: #e2dbff;

  /* Shard visualization palette */
  --shard-1:  #3b82f6;
  --shard-2:  #22c55e;
  --shard-3:  #a855f7;
  --shard-4:  #f97316;
  --shard-5:  #ec4899;
  --shard-6:  #06b6d4;
  --shard-7:  #eab308;
  --shard-8:  #ef4444;
  --shard-9:  #6366f1;
  --shard-10: #14b8a6;
  --shard-11: #f43f5e;
  --shard-12: #f59e0b;

  /* Legacy token aliases to keep older screens rendering safely while migrating */
  --dark-bg: var(--bg-canvas);
  --dark-header: var(--bg-primary);
  --dark-card: var(--bg-secondary);
  --dark-elevated: var(--bg-elevated);
  --dark-hover: var(--bg-elevated);
  --dark-elem-hover: rgba(255, 255, 255, 0.08);
  --dark-elem-active: rgba(255, 255, 255, 0.12);
  --border-hover: var(--border-emphasis);
  --shadow-xl: 0 14px 34px rgba(0, 0, 0, 0.38);
  --shadow-2xl: 0 22px 42px rgba(0, 0, 0, 0.45);
}

/* ==========================================================================
   Global Reset
   ========================================================================== */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  color-scheme: dark;
}

body {
  font-family: var(--font-sans);
  background-color: var(--bg-canvas);
  color: var(--text-primary);
  font-size: 13px;
  line-height: 1.5;
  letter-spacing: -0.01em;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#root {
  min-height: 100vh;
}

/* Typography - Tighter tracking for headings */
h1, h2, h3, h4, h5, h6,
.heading {
  letter-spacing: -0.02em;
}

/* Data display - Tabular numbers for alignment */
.data, .mono, .font-mono,
code, pre {
  font-variant-numeric: tabular-nums;
}

code,
pre,
.font-mono {
  font-family: var(--font-mono);
}

/* ==========================================================================
   Scrollbars (VS Code Style)
   ========================================================================== */

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #424242;
}

::-webkit-scrollbar-thumb:hover {
  background: #4f4f4f;
}

::-webkit-scrollbar-corner {
  background: transparent;
}

/* ==========================================================================
   Utilities
   ========================================================================== */

@layer utilities {

  .glass {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-default);
  }

  .glass-panel {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-default);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
  }

  /* Standard Text Gradient removed for professional look, keeping simple highlight */
  .text-gradient {
    color: var(--brand-primary);
    background: none;
    -webkit-text-fill-color: initial;
  }

  .focus-ring {
    @apply outline-none ring-2 ring-brand-primary/40 ring-offset-2 ring-offset-[#111216];
  }

  .ide-shell {
    @apply bg-dark-canvas text-text-primary;
  }

  .ide-surface {
    @apply bg-dark-bg border border-border-default;
  }

  .ide-panel {
    @apply bg-dark-card border border-border-default;
  }

  .ide-panel-muted {
    @apply bg-dark-elevated border border-border-muted;
  }

  .ide-toolbar {
    @apply bg-dark-bg border-b border-border-default;
  }

  .ide-subtle {
    @apply text-text-muted;
  }

  .ide-hover {
    @apply transition-colors duration-fast hover:bg-white/[0.05];
  }

  .ide-rail {
    @apply bg-dark-canvas border-r border-border-default flex flex-col items-center py-3 gap-1;
  }

  .ide-panel-header {
    @apply h-8 px-3 flex items-center justify-between border-b border-border-default bg-dark-bg shrink-0;
  }

  .ide-section-label {
    @apply text-3xs font-semibold text-text-muted uppercase tracking-wider;
  }

  .ide-empty-state {
    @apply flex flex-col items-center justify-center py-12 text-center text-text-muted;
  }
}

/* ==========================================================================
   Component Overrides (The "Creative" Part)
   ========================================================================== */

/* Buttons - Precision & Density */
.btn {
  @apply inline-flex items-center justify-center gap-1.5 px-3 py-1.5 font-medium text-xs;
  border-radius: var(--radius-default);
  letter-spacing: 0;
  transition: all var(--duration-fast) var(--ease-out);
}

.btn-primary {
  background: linear-gradient(180deg, var(--brand-primary) 0%, #2c5fd9 100%);
  color: white;
  border: none;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.btn-primary:hover:not(:disabled) {
  filter: brightness(1.1);
}

.btn-primary:active:not(:disabled) {
  filter: brightness(0.95);
}

/* Primary button gradient class for Tailwind usage */
.btn-primary-gradient {
  background: linear-gradient(180deg, var(--brand-primary) 0%, #2c5fd9 100%);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.btn-secondary {
  background: var(--bg-elevated);
  color: var(--text-secondary);
  border: 1px solid var(--border-default);
}

.btn-secondary:hover:not(:disabled) {
  background: var(--bg-elevated);
  border-color: var(--border-emphasis);
  color: var(--text-primary);
}

.btn-ghost {
  background: transparent;
  color: var(--text-muted);
  border: none;
}

.btn-ghost:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.04);
  color: var(--text-primary);
}

/* Inputs - Inset precision feel */
input[type="text"],
input[type="search"],
input[type="password"],
textarea,
select {
  @apply px-3 py-2 text-sm text-text-primary;
  border-radius: var(--radius-default);
  background-color: var(--bg-canvas);
  border: 1px solid var(--border-default);
  transition: all var(--duration-fast) var(--ease-out);
}

input:focus,
textarea:focus,
select:focus {
  @apply outline-none;
  border-color: var(--brand-primary);
  box-shadow: 0 0 0 2px rgba(53, 116, 240, 0.15);
}

/* Cards - Borders-only depth, no shadows */
.card {
  background: var(--bg-secondary);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-default);
  transition: border-color var(--duration-fast) var(--ease-out);
}

.card:hover {
  border-color: var(--border-emphasis);
}

/* Activity Bar - Tighter, precision feel */
.activity-bar-item {
  position: relative;
  opacity: 0.6;
  border-left: 2px solid transparent;
  transition: all var(--duration-fast) var(--ease-out);
}

.activity-bar-item:hover {
  opacity: 1;
  background-color: rgba(255, 255, 255, 0.03);
}

.activity-bar-item.active {
  opacity: 1;
  background-color: rgba(53, 116, 240, 0.08);
  border-left-color: var(--brand-primary);
}

/* File Tree - Subtle selection, tighter rows */
.file-tree-item:hover {
  background-color: rgba(255, 255, 255, 0.03);
}

.file-tree-item.selected {
  background-color: rgba(53, 116, 240, 0.12);
  color: var(--text-primary);
  border-radius: var(--radius-sm);
}

/* Monaco Editor - Matching precision palette */
.monaco-editor-background {
  background-color: var(--bg-primary) !important;
}

.monaco-editor .margin {
  background-color: var(--bg-primary) !important;
  border-right: 1px solid var(--border-subtle) !important;
}

.monaco-editor .current-line {
  background-color: rgba(255, 255, 255, 0.02) !important;
  border: none !important;
}

.monaco-editor .selected-text {
  background-color: rgba(53, 116, 240, 0.15) !important;
}

/* ==========================================================================
   SIGNATURE ELEMENTS - Unique to Vero IDE
   ========================================================================== */

/* Execution Trace Line - Glowing indicator when running/debugging */
.execution-line,
.vero-execution-line {
  background: linear-gradient(90deg,
    rgba(63, 185, 80, 0.15) 0%,
    transparent 100%
  ) !important;
  border-left: 2px solid var(--status-success) !important;
  box-shadow: 0 0 8px rgba(63, 185, 80, 0.3);
}

/* Recording Indicator - Pulsing red dot */
.recording-indicator {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.recording-indicator::before {
  content: '';
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--status-danger);
  animation: pulse-recording 1.5s ease-in-out infinite;
}

@keyframes pulse-recording {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 0 0 rgba(248, 81, 73, 0.4);
  }
  50% {
    opacity: 0.8;
    box-shadow: 0 0 0 8px rgba(248, 81, 73, 0);
  }
}

@keyframes toast-slide-in {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Test Status Pills - Terminal aesthetic */
.test-passed,
.status-passed {
  background: rgba(63, 185, 80, 0.15);
  color: #3fb950;
  border: 1px solid rgba(63, 185, 80, 0.2);
}

.test-failed,
.status-failed {
  background: rgba(248, 81, 73, 0.15);
  color: #f85149;
  border: 1px solid rgba(248, 81, 73, 0.2);
}

.test-running,
.status-running {
  background: rgba(88, 166, 255, 0.15);
  color: #58a6ff;
  border: 1px solid rgba(88, 166, 255, 0.2);
}

.test-pending,
.status-pending {
  background: rgba(210, 153, 34, 0.15);
  color: #d29922;
  border: 1px solid rgba(210, 153, 34, 0.2);
}

/* Focus States - Thin, offset ring */
.focus-visible:focus,
[data-focus-visible]:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--bg-canvas), 0 0 0 4px rgba(53, 116, 240, 0.4);
}

