# E-Commerce Shopping Pages

PAGE ProductPage {
    FIELD productTitle = "[data-testid='product-title']"
    FIELD productPrice = "[data-testid='product-price']"
    FIELD quantityInput = "[name='quantity'], input[placeholder*='Quantity']"
    FIELD addToCartBtn = "button:has-text('Add to Cart')"
    FIELD wishlistBtn = "button:has-text('Add to Wishlist')"
    FIELD reviewsSection = "[data-testid='reviews']"
    FIELD ratingStars = "[data-testid='rating']"
    FIELD cartBadge = "[data-testid='cart-count']"

    addToCart {
        CLICK ProductPage.addToCartBtn
    }

    addToCartWithQuantity WITH quantity {
        FILL ProductPage.quantityInput WITH quantity
        CLICK ProductPage.addToCartBtn
    }

    addToWishlist {
        CLICK ProductPage.wishlistBtn
    }
}

PAGE CartPage {
    FIELD cartItems = "[data-testid='cart-items']"
    FIELD cartTotal = "[data-testid='cart-total']"
    FIELD checkoutBtn = "button:has-text('Proceed to Checkout')"
    FIELD emptyCartMessage = "[data-testid='empty-cart']"
    FIELD removeItemBtn = "button:has-text('Remove')"
    FIELD updateQuantityInput = "input[name='qty']"
    FIELD applyPromoInput = "[placeholder*='Promo']"
    FIELD applyPromoBtn = "button:has-text('Apply')"
    FIELD promoSuccessMsg = "[data-testid='promo-success']"
    FIELD promoErrorMsg = "[data-testid='promo-error']"

    proceedToCheckout {
        CLICK CartPage.checkoutBtn
    }

    removeFirstItem {
        CLICK CartPage.removeItemBtn
    }

    applyPromoCode WITH code {
        FILL CartPage.applyPromoInput WITH code
        CLICK CartPage.applyPromoBtn
    }
}

PAGE CheckoutPage {
    FIELD emailInput = "input[name='email'], input[type='email']"
    FIELD addressInput = "input[name='address']"
    FIELD cityInput = "input[name='city']"
    FIELD zipInput = "input[name='zip'], input[placeholder*='ZIP']"
    FIELD cardNumberInput = "[placeholder*='Card number']"
    FIELD expiryInput = "[placeholder*='MM/YY']"
    FIELD cvvInput = "[placeholder*='CVV']"
    FIELD placeOrderBtn = "button:has-text('Place Order')"
    FIELD orderConfirmation = "[data-testid='order-confirmation']"
    FIELD orderNumber = "[data-testid='order-number']"

    fillShippingInfo WITH email, address, city, zip {
        FILL CheckoutPage.emailInput WITH email
        FILL CheckoutPage.addressInput WITH address
        FILL CheckoutPage.cityInput WITH city
        FILL CheckoutPage.zipInput WITH zip
    }

    fillPaymentInfo WITH cardNumber, expiry, cvv {
        FILL CheckoutPage.cardNumberInput WITH cardNumber
        FILL CheckoutPage.expiryInput WITH expiry
        FILL CheckoutPage.cvvInput WITH cvv
    }

    placeOrder {
        CLICK CheckoutPage.placeOrderBtn
    }
}
