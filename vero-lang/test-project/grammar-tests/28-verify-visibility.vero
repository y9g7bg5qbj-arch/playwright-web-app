# Test: Visibility Assertions
# Category: Assertions - Visibility (Inline Actions)

PAGE VisibilityPage {
    FIELD header = "h1"
    FIELD loader = ".loading"
    FIELD errorEl = ".error"
    FIELD dashboard = "Dashboard"

    isHeaderVisible RETURNS FLAG {
        RETURN header
    }

    isLoaderVisible RETURNS FLAG {
        RETURN loader
    }

    isErrorVisible RETURNS FLAG {
        RETURN errorEl
    }

    isDashboardVisible RETURNS FLAG {
        RETURN dashboard
    }

    awaitPage {
        WAIT FOR header
    }
}

FEATURE VisibilityAssertions {

    SCENARIO VisibilityChecks {
        # Is visible - using page field references directly
        VERIFY VisibilityPage.dashboard IS VISIBLE

        VERIFY VisibilityPage.header IS VISIBLE

        # Is not visible
        VERIFY VisibilityPage.errorEl IS NOT VISIBLE

        # Is hidden
        VERIFY VisibilityPage.loader IS NOT VISIBLE

        # Direct text verification (still allowed)
        VERIFY "Dashboard" IS VISIBLE
        VERIFY "Error" IS NOT VISIBLE
    }
}
