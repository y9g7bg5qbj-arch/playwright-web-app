# Test: State Assertions
# Category: Assertions - State (Inline Actions)

PAGE StatePage {
    FIELD submitBtn = "Submit"
    FIELD agreeCheckbox = "#agree"
    FIELD inputEl = "#email"
    FIELD disabledButton = "Disabled Button"

    isSubmitEnabled RETURNS FLAG {
        RETURN submitBtn
    }

    isCheckboxChecked RETURNS FLAG {
        RETURN agreeCheckbox
    }

    isInputVisible RETURNS FLAG {
        RETURN inputEl
    }

    checkAgree {
        CHECK agreeCheckbox
    }

    enterEmail WITH val {
        FILL inputEl WITH val
    }

    clickSubmit {
        CLICK submitBtn
    }
}

FEATURE StateAssertions {
    USE StatePage

    SCENARIO StateChecks {
        # Enabled/Disabled via direct page field references
        VERIFY StatePage.submitBtn IS ENABLED

        # Checked state via direct page field references
        VERIFY StatePage.agreeCheckbox IS NOT CHECKED

        PERFORM StatePage.checkAgree
        VERIFY StatePage.agreeCheckbox IS CHECKED

        # Visible state
        VERIFY StatePage.inputEl IS VISIBLE

        # Direct verification (still allowed)
        VERIFY "Submit" IS ENABLED
        VERIFY "Disabled Button" IS DISABLED
    }
}
