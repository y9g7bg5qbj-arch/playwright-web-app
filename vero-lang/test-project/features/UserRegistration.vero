# User Registration Feature Tests

FEATURE UserRegistration {
    USE HomePage
    USE SignUpPage
    USE DashboardPage
    
    BEFORE EACH {
        OPEN "https://example.com"
    }
    
    AFTER EACH {
        TAKE SCREENSHOT
    }
    
    SCENARIO UserCanNavigateToSignUpPage @smoke {
        PERFORM HomePage.navigateToSignUp
        VERIFY SignUpPage.firstNameInput IS VISIBLE
        VERIFY SignUpPage.submitBtn IS VISIBLE
    }
    
    SCENARIO UserCanCompleteRegistration @smoke @critical {
        PERFORM HomePage.navigateToSignUp
        PERFORM SignUpPage.register WITH "John", "Doe", "john.doe@example.com", "SecurePass123!"
        WAIT 2 SECONDS
        VERIFY DashboardPage.welcomeMessage IS VISIBLE
    }
    
    SCENARIO RegistrationFailsWithoutAcceptingTerms @regression {
        PERFORM HomePage.navigateToSignUp
        PERFORM SignUpPage.fillRegistrationForm WITH "Jane", "Smith", "jane@example.com", "Password123!"
        PERFORM SignUpPage.submitForm
        VERIFY SignUpPage.errorMessage IS VISIBLE
        VERIFY DashboardPage.welcomeMessage IS NOT VISIBLE
    }
    
    SCENARIO PasswordFieldsMustMatch @validation {
        PERFORM HomePage.navigateToSignUp
        FILL SignUpPage.emailInput WITH "test@example.com"
        FILL SignUpPage.passwordInput WITH "Password123"
        FILL SignUpPage.confirmPasswordInput WITH "DifferentPassword"
        PERFORM SignUpPage.submitForm
        VERIFY SignUpPage.errorMessage IS VISIBLE
    }
    
    SCENARIO UserCanLogoutAfterRegistration @regression {
        PERFORM HomePage.navigateToSignUp
        PERFORM SignUpPage.register WITH "Alice", "Wonder", "alice@example.com", "AlicePass123!"
        WAIT 1 SECONDS
        VERIFY DashboardPage.welcomeMessage IS VISIBLE
        PERFORM DashboardPage.logout
        VERIFY HomePage.signUpButton IS VISIBLE
    }
}
